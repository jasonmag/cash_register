<h1 class="text-2xl font-bold mb-6">Your Cart</h1>

<% total = 0 %>

<div class="space-y-4">
  <% @products.each do |product| %>
    <% qty = session[:cart][product.id.to_s] %>
    <% item_total = product.price * qty %>
    <% total += item_total %>

    <div class="p-4 bg-white rounded shadow flex justify-between items-center">
      <div>
        <p class="font-medium"><%= product.name %></p>
        <p class="text-sm text-gray-500">Quantity: <%= qty %></p>
      </div>
      <div class="text-right">
        <p class="text-sm font-semibold">$<%= number_with_precision(item_total, precision: 2) %></p>
      </div>
    </div>
  <% end %>
</div>

<hr class="my-6">

<p class="text-lg font-semibold">Total: $<%= number_with_precision(total, precision: 2) %></p>

<%= link_to "Back to Products", root_path, class: "text-blue-600 hover:underline mt-6 inline-block" %>
